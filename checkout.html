<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - Millenium Moto Peças</title>
    <link rel="stylesheet" href="style.css">

    <style>
        body {
            background: #f5f5f5;
            font-family: "Poppins", sans-serif;
        }

        header {
            background: #0b9b4a;
            color: #fff;
            padding: 15px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        header img {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            object-fit: cover;
        }

        header h1 {
            font-size: 22px;
        }

        .checkout-container {
            max-width: 420px;
            margin: 25px auto;
            background: #fff;
            padding: 18px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        #checkout-product-image {
            width: 100%;
            border-radius: 10px;
            margin-bottom: 15px;
            height: 200px;
            object-fit: cover;
        }

        h2#checkout-product-name {
            font-size: 20px;
            margin-bottom: 6px;
        }

        p#checkout-product-price {
            font-size: 18px;
            font-weight: bold;
            color: #0b9b4a;
            margin-bottom: 15px;
        }

        .buy-btn {
            width: 100%;
            background: #0b9b4a;
            border: none;
            color: #fff;
            padding: 13px;
            border-radius: 10px;
            font-size: 18px;
            cursor: pointer;
            transition: 0.2s;
        }

        .buy-btn:hover {
            background: #087c3c;
        }
    </style>
</head>

<body>

<header>
    <img src="Logo.jpeg" alt="Logo da Oficina">
    <h1>Finalizar Compra</h1>
</header>

<div class="checkout-container">

    <!-- IMAGEM DO PRODUTO -->
    <img id="checkout-product-image" src="" alt="Produto">

    <!-- NOME DO PRODUTO -->
    <h2 id="checkout-product-name">Carregando...</h2>

    <!-- PREÇO DO PRODUTO -->
    <p id="checkout-product-price"></p>

    <hr style="margin: 18px 0;">

    <!-- DADOS DO CLIENTE -->
    <label>Nome Completo:</label>
    <input type="text" id="nome" class="input" placeholder="Digite seu nome" required>

    <br><br>

    <label>Telefone:</label>
    <input type="text" id="fone" class="input" placeholder="(00) 00000-0000" required>

    <br><br>

    <!-- Botão de Finalização -->
    <button class="buy-btn" onclick="finalizarCompra()">Finalizar Pedido</button>
</div>

<script>
// ==== Carregar dados do produto vindo por URL ====
document.addEventListener("DOMContentLoaded", () => {
    const params = new URLSearchParams(window.location.search);

    const product = params.get("product");
    const price = params.get("price");

    document.getElementById("checkout-product-name").textContent = product ?? "Produto não encontrado";
    document.getElementById("checkout-product-price").textContent = price ? `R$ ${price}` : "Preço indisponível";

    // Lista de imagens correspondentes
    const imagens = {
        "Kit Transmissão Riffel Cg 160": "imagens/produto1.jpg",
        "Bloco do Farol cg 160 2017 a 2024": "imagens/produto2.jpg",
        "Lampada do Farol Traseiro Biz 125 2008": "imagens/produto3.jpg",
        "Kit Transmissão Riffel Cg 125/150": "imagens/produto4.jpg",
        "Manete cromado cg160": "imagens/produto5.jpg",
        "Óleo Mobil Semi-sintético": "imagens/produto6.jpg",
        "Pastilhas de freio cg 160 2022": "imagens/produto7.jpg",
        "Frente completa cg 160 2022 a 2024": "imagens/produto8.jpg",
        "Lampada do Farol frontal Biz 125 2008 a 2014": "imagens/produto9.jpg"
    };

    document.getElementById("checkout-product-image").src = imagens[product] ?? "imagens/placeholder.jpg";
});

// ==== Função de finalizar compra ====
function finalizarCompra() {
    const nome = document.getElementById("nome").value;
    const telefone = document.getElementById("fone").value;
    const produto = document.getElementById("checkout-product-name").textContent;
    const preco = document.getElementById("checkout-product-price").textContent;

    if (nome === "" || telefone === "") {
        alert("Por favor, preencha todos os dados.");
        return;
    }

    alert(`Pedido realizado!\n\nProduto: ${produto}\nPreço: ${preco}\nNome: ${nome}\nTelefone: ${telefone}`);
}
</script>

</body>
</html>
